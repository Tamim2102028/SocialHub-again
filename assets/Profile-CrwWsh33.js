import{b as D,r as o,c as y,cK as Z,j as e,aF as U,aG as R,H as E,cE as P,cL as L,O as C,P as B,cu as _,cM as M,cN as $,M as z,cO as H,cP as O,by as G,cQ as K,cR as k,cS as I,E as w,n as X,aP as Y,aO as Q,aQ as W,u as q,cG as V,cT as J,bf as ee,cU as se,bg as te,ai as ae,bT as re}from"./index-C3Mgf05E.js";const ne=[{fileId:"pf_cu1",userId:"1",name:"CS Final Project Resources",type:"folder",createdAt:"2025-09-20T10:00:00Z",updatedAt:"2025-09-20T10:00:00Z",isPublic:!0,description:"All resources and code for my Computer Science final project",downloads:45,tags:["CS","Project","Resources"],category:"Education"},{fileId:"pf_cu2",userId:"1",name:"Study Notes Collectionnn",type:"folder",createdAt:"2025-09-18T14:30:00Z",updatedAt:"2025-09-18T14:30:00Z",isPublic:!0,description:"Comprehensive study notes for various CS courses",downloads:78,tags:["Study","Notes","CS"],category:"Education"},{fileId:"pf_sw1",userId:"2",name:"Web Development Portfolio",type:"folder",createdAt:"2025-09-21T09:15:00Z",updatedAt:"2025-09-21T09:15:00Z",isPublic:!0,description:"Complete portfolio website source code and assets",downloads:156,tags:["WebDev","Portfolio","Frontend"],category:"Development"},{fileId:"pf_sw2",userId:"2",name:"UI/UX Design Resources",type:"folder",createdAt:"2025-09-19T16:45:00Z",updatedAt:"2025-09-19T16:45:00Z",isPublic:!0,description:"Design templates, color palettes, and UI components",downloads:89,tags:["UI","UX","Design"],category:"Design"},{fileId:"pf_sw3",userId:"2",name:"Frontend Interview Prep",type:"folder",createdAt:"2025-09-17T11:20:00Z",updatedAt:"2025-09-17T11:20:00Z",isPublic:!0,description:"Questions, answers, and coding challenges for frontend interviews",downloads:234,tags:["Interview","Frontend","Prep"],category:"Career"},{fileId:"pf_ac1",userId:"3",name:"Machine Learning Projects",type:"folder",createdAt:"2025-09-22T08:30:00Z",updatedAt:"2025-09-22T08:30:00Z",isPublic:!0,description:"Complete ML projects with datasets and jupyter notebooks",downloads:298,tags:["ML","AI","DataScience"],category:"Technology"},{fileId:"pf_ac2",userId:"3",name:"Data Science Resources",type:"folder",createdAt:"2025-09-20T13:45:00Z",updatedAt:"2025-09-20T13:45:00Z",isPublic:!0,description:"Python scripts, libraries, and data analysis tools",downloads:167,tags:["DataScience","Python","Analytics"],category:"Technology"},{fileId:"pf_mj1",userId:"4",name:"React Component Library",type:"folder",createdAt:"2025-09-21T15:20:00Z",updatedAt:"2025-09-21T15:20:00Z",isPublic:!0,description:"Custom React components with TypeScript and Storybook",downloads:445,tags:["React","TypeScript","Components"],category:"Development"},{fileId:"pf_mj2",userId:"4",name:"Open Source Contributions",type:"folder",createdAt:"2025-09-19T10:30:00Z",updatedAt:"2025-09-19T10:30:00Z",isPublic:!0,description:"Code snippets and contributions to various open source projects",downloads:123,tags:["OpenSource","Contributions","Code"],category:"Development"},{fileId:"pf_ed1",userId:"5",name:"Design System Templates",type:"folder",createdAt:"2025-09-20T12:00:00Z",updatedAt:"2025-09-20T12:00:00Z",isPublic:!0,description:"Complete design system with components and guidelines",downloads:267,tags:["Design","System","Templates"],category:"Design"},{fileId:"pf_ed2",userId:"5",name:"Mobile App UI Designs",type:"folder",createdAt:"2025-09-18T09:45:00Z",updatedAt:"2025-09-18T09:45:00Z",isPublic:!0,description:"High-fidelity mobile app designs and prototypes",downloads:189,tags:["Mobile","UI","Design"],category:"Design"},{fileId:"pf_aj1",userId:"28",name:"Microservices Architecture",type:"folder",createdAt:"2025-09-21T14:15:00Z",updatedAt:"2025-09-21T14:15:00Z",isPublic:!0,description:"Complete microservices setup with Docker and Kubernetes",downloads:356,tags:["Microservices","Docker","Kubernetes"],category:"Technology"},{fileId:"pf_ew1",userId:"32",name:"React Performance Guide",type:"folder",createdAt:"2025-09-20T11:30:00Z",updatedAt:"2025-09-20T11:30:00Z",isPublic:!0,description:"Performance optimization techniques and code examples",downloads:278,tags:["React","Performance","Optimization"],category:"Development"},{fileId:"pf_jk1",userId:"154",name:"Solidity Smart Contracts",type:"folder",createdAt:"2025-09-19T16:00:00Z",updatedAt:"2025-09-19T16:00:00Z",isPublic:!0,description:"Optimized smart contracts with security best practices",downloads:167,tags:["Solidity","Blockchain","SmartContracts"],category:"Technology"},{fileId:"pf_sk1",userId:"145",name:"Digital Marketing Templates",type:"folder",createdAt:"2025-09-21T10:45:00Z",updatedAt:"2025-09-21T10:45:00Z",isPublic:!0,description:"Email marketing templates and growth hacking strategies",downloads:234,tags:["Marketing","Templates","Growth"],category:"Business"},{fileId:"pf_rk1",userId:"56",name:"UX Research Methods",type:"folder",createdAt:"2025-09-18T15:30:00Z",updatedAt:"2025-09-18T15:30:00Z",isPublic:!0,description:"User research templates, surveys, and analysis tools",downloads:145,tags:["UX","Research","UserExperience"],category:"Design"}],ie=s=>ne.filter(i=>i.userId===s&&i.isPublic),le=({post:s,isOwnProfile:i})=>{const n=D(),[a,l]=o.useState(!1),[x,j]=o.useState(s.isLiked),[u,c]=o.useState(s.likes),[d,t]=o.useState(!1),[b,h]=o.useState(!1),[m,g]=o.useState(""),[N,T]=o.useState(15),v=y(r=>r.profile),f=y(r=>Z(r,s.id)),F=y(r=>r.posts.posts.find(p=>p.postId===s.id))?.comments||s.comments,S=()=>{j(!x),c(x?u-1:u+1)},A=()=>{t(!d),h(!1)};return e.jsxs("div",{className:"rounded-lg border border-gray-400 bg-white shadow",children:[e.jsxs("div",{className:"flex items-center justify-between p-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("img",{src:s.author.avatar,alt:s.author.name,className:"h-10 w-10 rounded-full bg-gray-300"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:s.author.name}),e.jsxs("p",{className:"flex items-center gap-2 text-sm text-gray-500",children:[e.jsxs("span",{children:["@",s.author.username]}),e.jsx("span",{className:"h-1 w-1 rounded-full bg-gray-400","aria-hidden":!0}),e.jsx("span",{children:U(s.timestamp)}),e.jsx("span",{className:"h-1 w-1 rounded-full bg-gray-400","aria-hidden":!0}),e.jsx("span",{children:R(s.timestamp)})]})]})]}),e.jsxs("div",{className:"relative",children:[e.jsx("button",{onClick:()=>h(!b),className:"rounded-lg p-2 text-gray-600 transition-colors hover:bg-gray-200",title:"More actions",children:e.jsx(E,{className:"h-4 w-4"})}),b&&e.jsx("div",{className:"absolute top-full right-0 z-50 mt-1 w-56 rounded-lg border border-gray-200 bg-white shadow-lg",children:e.jsxs("div",{className:"py-1",children:[e.jsx("button",{onClick:A,className:`flex w-full items-center gap-3 px-4 py-2.5 text-left text-sm transition-colors hover:bg-gray-50 ${d?"text-blue-600":"text-gray-700"}`,children:d?e.jsxs(e.Fragment,{children:[e.jsx(P,{className:"h-4 w-4 flex-shrink-0"}),e.jsx("span",{className:"font-medium",children:"Remove bookmark"})]}):e.jsxs(e.Fragment,{children:[e.jsx(L,{className:"h-4 w-4 flex-shrink-0"}),e.jsx("span",{className:"font-medium",children:"Save post"})]})}),i?e.jsxs(e.Fragment,{children:[e.jsxs("button",{className:"flex w-full items-center gap-3 px-4 py-2.5 text-left text-sm text-gray-700 transition-colors hover:bg-gray-50",children:[e.jsx(C,{className:"h-4 w-4 flex-shrink-0"}),e.jsx("span",{className:"font-medium",children:"Edit post"})]}),e.jsxs("button",{className:"flex w-full items-center gap-3 px-4 py-2.5 text-left text-sm text-red-600 transition-colors hover:bg-gray-50",children:[e.jsx(B,{className:"h-4 w-4 flex-shrink-0"}),e.jsx("span",{className:"font-medium",children:"Delete post"})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("button",{className:"flex w-full items-center gap-3 px-4 py-2.5 text-left text-sm text-gray-700 transition-colors hover:bg-gray-50",children:[e.jsx(_,{className:"h-4 w-4 flex-shrink-0"}),e.jsxs("span",{className:"font-medium",children:["Follow @",s.author.username]})]}),e.jsxs("button",{className:"flex w-full items-center gap-3 px-4 py-2.5 text-left text-sm text-gray-700 transition-colors hover:bg-gray-50",children:[e.jsx(M,{className:"h-4 w-4 flex-shrink-0"}),e.jsx("span",{className:"font-medium",children:"Hide this post"})]}),e.jsxs("button",{className:"flex w-full items-center gap-3 px-4 py-2.5 text-left text-sm text-red-600 transition-colors hover:bg-gray-50",children:[e.jsx($,{className:"h-4 w-4 flex-shrink-0"}),e.jsx("span",{className:"font-medium",children:"Report post"})]})]})]})})]})]}),e.jsxs("div",{className:"px-4 pb-3",children:[e.jsx("p",{className:"whitespace-pre-wrap text-gray-900",children:s.content}),s.tags&&s.tags.length>0&&e.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:s.tags.map((r,p)=>e.jsxs("span",{className:"inline-block cursor-pointer rounded-full bg-blue-50 px-3 py-1 text-sm font-medium text-blue-600 transition-colors hover:bg-blue-100",children:["#",r]},p))})]}),s.images&&s.images.length>0&&e.jsx("div",{className:"px-4 pb-3",children:s.images.length===1?e.jsx("img",{src:s.images[0],alt:"Post content",className:"h-auto max-h-96 w-full rounded-lg object-cover"}):e.jsx("div",{className:"grid grid-cols-2 gap-2",children:s.images.slice(0,4).map((r,p)=>e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:r,alt:`Post content ${p+1}`,className:"h-48 w-full rounded-lg object-cover"}),p===3&&s.images&&s.images.length>4&&e.jsx("div",{className:"bg-opacity-50 absolute inset-0 flex items-center justify-center rounded-lg bg-black",children:e.jsxs("span",{className:"text-lg font-semibold text-white",children:["+",s.images.length-4]})})]},p))})}),e.jsx("div",{className:"border-t border-gray-100 px-4 py-2",children:e.jsx("div",{className:"flex items-center justify-between text-sm text-gray-500",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("span",{children:[u," likes"]}),e.jsx("span",{className:"text-gray-300",children:"•"}),e.jsxs("span",{children:[F," comments"]}),e.jsx("span",{className:"text-gray-300",children:"•"}),e.jsxs("span",{children:[s.shares," shares"]})]})})}),e.jsx("div",{className:"border-t border-gray-100 px-4 py-3",children:e.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[e.jsxs("button",{onClick:S,className:`flex items-center justify-center space-x-2 rounded-lg px-3 py-2 transition-colors ${x?"bg-red-50 text-red-600 hover:bg-red-100":"text-gray-600 hover:bg-gray-100"}`,children:[x?e.jsx(z,{size:18}):e.jsx(H,{size:18}),e.jsx("span",{className:"text-sm font-medium",children:"Like"})]}),e.jsxs("button",{onClick:()=>l(!a),className:`flex items-center justify-center space-x-2 rounded-lg px-3 py-2 transition-colors ${a?"bg-blue-50 text-blue-600":"text-gray-600 hover:bg-gray-100"}`,children:[e.jsx(O,{size:18}),e.jsx("span",{className:"text-sm font-medium",children:"Comment"})]}),e.jsxs("button",{className:"flex items-center justify-center space-x-2 rounded-lg px-3 py-2 text-gray-600 transition-colors hover:bg-gray-100",children:[e.jsx(G,{size:18}),e.jsx("span",{className:"text-sm font-medium",children:"Share"})]})]})}),a&&e.jsxs("div",{className:"border-t border-gray-100",children:[f.length>0&&e.jsx("div",{className:"px-2.5 py-3",children:e.jsxs("div",{className:"max-h-[400px] space-y-3 overflow-y-auto",children:[[...f].reverse().slice(0,N).map(r=>e.jsx(K,{comment:r},r.commentId)),f.length>N&&e.jsx("div",{className:"flex justify-center pt-2",children:e.jsxs("button",{onClick:()=>T(r=>r+15),className:"rounded-lg px-4 py-2 text-sm font-medium text-blue-600 transition-colors hover:bg-blue-50",children:["Show more comments (",f.length-N," remaining)"]})})]})}),e.jsx("div",{className:"border-t border-gray-100 px-4 pb-4",children:e.jsxs("div",{className:"mt-3 flex items-center space-x-3",children:[e.jsx("img",{src:v.avatar||"https://via.placeholder.com/32",alt:"Your avatar",className:"h-8 w-8 rounded-full bg-gray-300 object-cover"}),e.jsx("input",{type:"text",value:m,onChange:r=>g(r.target.value),placeholder:"Write a comment...",className:"flex-1 rounded-full border border-gray-300 px-3 py-2 text-sm focus:border-transparent focus:ring-2 focus:ring-blue-500 focus:outline-none",onKeyPress:r=>{r.key==="Enter"&&m.trim()&&(n(k({postId:s.id,userId:v.id,content:m.trim()})),n(I(s.id)),g(""))}}),e.jsx("button",{onClick:()=>{m.trim()&&(n(k({postId:s.id,userId:v.id,content:m.trim()})),n(I(s.id)),g(""))},disabled:!m.trim(),className:"rounded-full bg-blue-600 px-4 py-2 text-sm font-medium text-white transition-colors hover:bg-blue-700 disabled:cursor-not-allowed disabled:opacity-50",children:"Send"})]})})]})]})},oe=({posts:s,isOwnProfile:i,userData:n})=>e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"mb-5 flex items-center",children:e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:i?"Your Posts":"Posts"})}),s.length>0?e.jsx("div",{className:"space-y-4",children:s.map(a=>e.jsx(le,{post:{id:a.postId,content:a.content,author:{id:a.userId,name:n?.name||"User Name",username:n?.username||"username",avatar:n?.avatar||"https://via.placeholder.com/40"},timestamp:a.createdAt,likes:a.likedBy.length,comments:a.comments,shares:a.sharesBy.length,isLiked:a.likedBy.includes("1"),images:a.images||[],tags:a.tags||[]},isOwnProfile:i},a.postId))}):e.jsx("div",{className:"rounded-lg border border-gray-200 bg-white p-12 text-center shadow",children:e.jsx("p",{className:"text-gray-500",children:i?"You haven't posted anything yet.":"No posts to show."})})]}),ce=({publicFolders:s,userName:i})=>{const n=l=>new Date(l).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),a=l=>{alert(`Downloading ${l.name} as ZIP...`)};return s.length===0?e.jsxs("div",{className:"rounded-lg border border-gray-200 bg-white p-12 text-center shadow",children:[e.jsx(w,{className:"mx-auto h-12 w-12 text-gray-400"}),e.jsx("h3",{className:"mt-4 text-lg font-medium text-gray-900",children:"No Public Files"}),e.jsxs("p",{className:"mt-2 text-gray-500",children:[i," hasn't shared any files publicly yet."]})]}):e.jsx(e.Fragment,{children:s.map(l=>e.jsx("div",{className:"group rounded-lg border border-gray-200 bg-white p-4 shadow-sm transition-shadow hover:shadow-md",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"rounded-lg bg-blue-100 p-2",children:e.jsx(w,{className:"h-5 w-5 text-blue-600"})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:l.name}),e.jsx("div",{className:"mt-1 flex items-center space-x-4",children:e.jsxs("span",{className:"flex items-center text-xs text-gray-500",children:[e.jsx(X,{className:"mr-1 h-3 w-3"}),n(l.createdAt)]})})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("button",{className:"flex items-center rounded-md bg-blue-600 px-4 py-2 text-sm font-medium text-white transition-colors hover:bg-blue-700",onClick:()=>a(l),children:[e.jsx(Y,{className:"mr-2 h-4 w-4"}),"Download"]}),e.jsx("button",{className:"flex items-center justify-center rounded-md border border-gray-300 p-2 text-sm font-medium text-gray-700 transition-colors hover:bg-gray-50",children:e.jsx(Q,{className:"h-4 w-4"})})]})]})},l.fileId))})},xe=()=>{const{userId:s}=W(),i=q(),[n,a]=o.useState("posts"),[l,x]=o.useState(!0),j=y(g=>g.profile),u=ee(),c=!s||s===u,d=s||u,t=c?j:V(d),b=J(d),h=ie(d);if(o.useEffect(()=>{const g=setTimeout(()=>{x(!1)},100);return()=>clearTimeout(g)},[t,s,d,c,u,b.length,h.length]),!t)return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"rounded-lg border border-gray-200 bg-white p-8 text-center shadow-sm",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"User Not Found"}),e.jsx("p",{className:"mt-2 text-gray-600",children:"The user you're looking for doesn't exist."}),e.jsx("button",{onClick:()=>i("/"),className:"mt-4 rounded-lg bg-blue-600 px-4 py-2 text-white hover:bg-blue-700",children:"Go Home"})]})});const m=()=>{i("/profile/edit")};return l?e.jsx(se,{}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"rounded-lg border border-gray-300 bg-white p-5 shadow-sm",children:e.jsxs("div",{className:"flex items-start space-x-5",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("img",{src:t.avatar,alt:t.name,className:"h-32 w-32 rounded-full border-4 border-white shadow-lg"})}),e.jsxs("div",{className:"flex-1 space-y-3",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:t.name}),e.jsxs("p",{className:"flex items-center gap-2 text-lg text-gray-600",children:[e.jsx(te,{className:"h-4 w-4"}),"@",t.username]})]}),e.jsx("div",{children:e.jsx("p",{className:"leading-relaxed text-gray-700",children:t.bio})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ae,{className:"h-4 w-4 text-blue-600"}),e.jsx("p",{className:"font-medium text-gray-800",children:t.educationLevel==="UNIVERSITY"?e.jsxs(e.Fragment,{children:[t.university?.name," -"," ",t.university?.department,t.role.includes("student")&&t.university?.section&&e.jsxs("span",{className:"text-gray-600",children:[" ","(Section: ",t.university.section,t.university.subsection&&`-${t.university.subsection}`,")"]})]}):e.jsxs(e.Fragment,{children:[t.college?.name,t.college?.department&&` - ${t.college.department}`]})})]}),c&&e.jsx("div",{className:"pt-4",children:e.jsxs("button",{onClick:m,className:"flex items-center gap-2 rounded-md bg-blue-600 px-6 py-2 text-white transition-colors hover:bg-blue-700",children:[e.jsx(C,{className:"h-4 w-4"}),"Edit Profile"]})})]})]})}),e.jsx("div",{className:"rounded-t-lg border-b border-gray-200 bg-white",children:e.jsxs("nav",{className:"flex space-x-8 px-6","aria-label":"Profile sections",children:[e.jsxs("button",{onClick:()=>a("posts"),className:`border-b-2 px-1 py-4 text-sm font-medium transition-colors ${n==="posts"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:border-black hover:text-black"}`,children:[e.jsx(re,{className:"mr-2 inline h-4 w-4"}),"Posts (",b.length,")"]}),(!c||h.length>0)&&e.jsxs("button",{onClick:()=>a("files"),className:`border-b-2 px-1 py-4 text-sm font-medium transition-colors ${n==="files"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:border-black hover:text-black"}`,children:[e.jsx(w,{className:"mr-2 inline h-4 w-4"}),"Public Files (",h.length,")"]}),c&&e.jsxs("button",{onClick:()=>i("/profile/saved"),className:"px-1 py-4 text-sm font-medium text-gray-500 transition-colors hover:text-black",children:[e.jsx(P,{className:"mr-2 inline h-4 w-4"}),"Saved"]})]})}),e.jsxs("div",{children:[n==="posts"&&e.jsx("div",{className:"space-y-3",children:e.jsx(oe,{posts:b,isOwnProfile:c,userData:{name:t?.name||"User",username:t?.username||"username",avatar:t?.avatar||"https://via.placeholder.com/40"}})}),n==="files"&&e.jsx("div",{className:"space-y-3",children:e.jsx(ce,{publicFolders:h,userName:t.name})})]})]})};export{xe as default};
