import{u as N,b as C,c as w,r as u,j as e,at as E,y as k,af as F,J as b,aZ as m,d3 as S,d4 as D}from"./index-C3Mgf05E.js";import{s as x,a as G}from"./sweetAlert-CYyJlmlj.js";const T=()=>{const i=N(),v=C(),t=w(r=>r.profile?.id),[l,g]=u.useState({name:"",description:"",groupFor:"students",gender:[],type:"academic",privacy:"public",educationLevel:"",tags:"",rules:"",universityName:"",department:"",section:"",subsection:"",year:"",semester:"",collegeName:"",collegeDepartment:"",collegeYear:"",boardType:"",board:"",version:"",medium:""}),[c,j]=u.useState(""),[d,f]=u.useState(""),s=r=>{const{name:o,value:a}=r.target;g(n=>({...n,[o]:a}))},h=r=>{g(o=>({...o,gender:o.gender.includes(r)?o.gender.filter(a=>a!==r):[...o.gender,r]}))},p=(r,o)=>{const a=r.target.files?.[0];if(a){const n=new FileReader;n.onloadend=()=>{o==="cover"?j(n.result):f(n.result)},n.readAsDataURL(a)}},y=r=>{if(r.preventDefault(),!l.name.trim()){x({title:"Oops...",text:"Group name is required!"});return}if(!l.description.trim()){x({title:"Oops...",text:"Group description is required!"});return}if(!t){x({title:"Oops...",text:"You must be logged in to create a group!"});return}const o=`g${Date.now()}`,a={id:o,name:l.name,description:l.description,groupFor:l.groupFor,gender:l.gender.length>0?l.gender:void 0,type:l.type,privacy:l.privacy,educationLevel:l.educationLevel||void 0,coverImage:c||void 0,profileImage:d||void 0,tags:l.tags?l.tags.split(",").map(n=>n.trim()):void 0,rules:l.rules?l.rules.split(`
`).filter(n=>n.trim()):void 0,systemCreated:!1,postCount:0,createdAt:new Date,updatedAt:new Date,status:"active"};l.educationLevel==="UNIVERSITY"&&l.universityName&&(a.university={name:l.universityName,department:l.department||void 0,section:l.section||void 0,subsection:l.subsection||void 0,year:l.year?parseInt(l.year):void 0,semester:l.semester?parseInt(l.semester):void 0}),l.educationLevel==="COLLEGE"&&l.collegeName&&(a.college={name:l.collegeName,department:l.collegeDepartment||void 0,year:l.collegeYear||void 0,boardType:l.boardType||void 0,board:l.board||void 0,version:l.version||void 0,medium:l.medium||void 0}),S(t,o,"owner","active"),v(D(a)),G({title:"Group Created!",text:`${l.name} has been created successfully.`}),console.log("New Group:",a),console.log("Owner added to groupMembers with ID:",t),i("/groups")};return e.jsxs("div",{className:"mx-auto max-w-4xl space-y-6 p-4",children:[e.jsxs("div",{className:"flex items-center gap-4 rounded-xl bg-white p-6 shadow-md",children:[e.jsx("button",{onClick:()=>i(-1),className:"flex h-10 w-10 items-center justify-center rounded-full bg-gray-100 text-gray-700 transition hover:bg-gray-200","aria-label":"Go back",children:e.jsx(E,{})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Create New Group"}),e.jsx("p",{className:"text-gray-600",children:"Build a community and connect with like-minded people"})]})]}),e.jsxs("form",{onSubmit:y,className:"space-y-6",children:[e.jsxs("div",{className:"rounded-xl bg-white p-6 shadow-md",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-2",children:[e.jsx(k,{className:"text-2xl text-blue-600"}),e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Basic Information"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"name",className:"mb-2 block font-semibold text-gray-700",children:["Group Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",id:"name",name:"name",value:l.name,onChange:s,placeholder:"Enter group name",className:"w-full rounded-lg border border-gray-300 px-4 py-3 focus:ring-2 focus:ring-blue-500 focus:outline-none",required:!0})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"description",className:"mb-2 block font-semibold text-gray-700",children:["Description ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("textarea",{id:"description",name:"description",value:l.description,onChange:s,placeholder:"Describe what your group is about",rows:4,className:"w-full rounded-lg border border-gray-300 px-4 py-3 focus:ring-2 focus:ring-blue-500 focus:outline-none",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"tags",className:"mb-2 block font-semibold text-gray-700",children:"Tags (comma separated)"}),e.jsx("input",{type:"text",id:"tags",name:"tags",value:l.tags,onChange:s,placeholder:"e.g., programming, study, projects",className:"w-full rounded-lg border border-gray-300 px-4 py-3 focus:ring-2 focus:ring-blue-500 focus:outline-none"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"rules",className:"mb-2 block font-semibold text-gray-700",children:"Group Rules (one per line)"}),e.jsx("textarea",{id:"rules",name:"rules",value:l.rules,onChange:s,placeholder:"Enter group rules, one per line",rows:4,className:"w-full rounded-lg border border-gray-300 px-4 py-3 focus:ring-2 focus:ring-blue-500 focus:outline-none"})]})]})]}),e.jsxs("div",{className:"rounded-xl bg-white p-6 shadow-md",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-2",children:[e.jsx(F,{className:"text-2xl text-purple-600"}),e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Group Settings"})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"groupFor",className:"mb-2 block font-semibold text-gray-700",children:"Group For"}),e.jsxs("select",{id:"groupFor",name:"groupFor",value:l.groupFor,onChange:s,className:"w-full rounded-lg border border-gray-300 px-4 py-3 focus:ring-2 focus:ring-blue-500 focus:outline-none",children:[e.jsx("option",{value:"students",children:"Students"}),e.jsx("option",{value:"teachers",children:"Teachers"}),e.jsx("option",{value:"both",children:"Both"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"type",className:"mb-2 block font-semibold text-gray-700",children:"Group Type"}),e.jsxs("select",{id:"type",name:"type",value:l.type,onChange:s,className:"w-full rounded-lg border border-gray-300 px-4 py-3 focus:ring-2 focus:ring-blue-500 focus:outline-none",children:[e.jsx("option",{value:"academic",children:"Academic"}),e.jsx("option",{value:"hall",children:"Hall"}),e.jsx("option",{value:"jobs",children:"Jobs"}),e.jsx("option",{value:"others",children:"Others"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"privacy",className:"mb-2 block font-semibold text-gray-700",children:"Privacy"}),e.jsxs("select",{id:"privacy",name:"privacy",value:l.privacy,onChange:s,className:"w-full rounded-lg border border-gray-300 px-4 py-3 focus:ring-2 focus:ring-blue-500 focus:outline-none",children:[e.jsx("option",{value:"public",children:"Public - Anyone can join"}),e.jsx("option",{value:"private",children:"Private - Approval needed"}),e.jsx("option",{value:"closed",children:"Closed - Invitation only"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"educationLevel",className:"mb-2 block font-semibold text-gray-700",children:"Education Level"}),e.jsxs("select",{id:"educationLevel",name:"educationLevel",value:l.educationLevel,onChange:s,className:"w-full rounded-lg border border-gray-300 px-4 py-3 focus:ring-2 focus:ring-blue-500 focus:outline-none",children:[e.jsx("option",{value:"",children:"Select level"}),e.jsx("option",{value:"UNIVERSITY",children:"University"}),e.jsx("option",{value:"MEDICAL_COLLEGE",children:"Medical College"}),e.jsx("option",{value:"NATIONAL_UNIVERSITY",children:"National University"}),e.jsx("option",{value:"COLLEGE",children:"College"}),e.jsx("option",{value:"POLYTECHNIC",children:"Polytechnic"}),e.jsx("option",{value:"SCHOOL",children:"School"})]})]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("label",{className:"mb-2 block font-semibold text-gray-700",children:"Gender (optional)"}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:l.gender.includes("male"),onChange:()=>h("male"),className:"h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),e.jsx("span",{children:"Male"})]}),e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:l.gender.includes("female"),onChange:()=>h("female"),className:"h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),e.jsx("span",{children:"Female"})]})]})]})]}),l.educationLevel==="UNIVERSITY"&&e.jsxs("div",{className:"rounded-xl bg-white p-6 shadow-md",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-2",children:[e.jsx(b,{className:"text-2xl text-green-600"}),e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"University Details"})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"universityName",className:"mb-2 block font-semibold text-gray-700",children:"University"}),e.jsxs("select",{id:"universityName",name:"universityName",value:l.universityName,onChange:s,className:"w-full rounded-lg border border-gray-300 px-4 py-3 focus:ring-2 focus:ring-blue-500 focus:outline-none",children:[e.jsx("option",{value:"",children:"Select university"}),e.jsx("option",{value:"BUET",children:"BUET"}),e.jsx("option",{value:"DU",children:"DU"}),e.jsx("option",{value:"RUET",children:"RUET"}),e.jsx("option",{value:"CUET",children:"CUET"}),e.jsx("option",{value:"KUET",children:"KUET"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"department",className:"mb-2 block font-semibold text-gray-700",children:"Department"}),e.jsxs("select",{id:"department",name:"department",value:l.department,onChange:s,className:"w-full rounded-lg border border-gray-300 px-4 py-3 focus:ring-2 focus:ring-blue-500 focus:outline-none",children:[e.jsx("option",{value:"",children:"Select department"}),e.jsx("option",{value:"CSE",children:"CSE"}),e.jsx("option",{value:"EEE",children:"EEE"}),e.jsx("option",{value:"ME",children:"ME"}),e.jsx("option",{value:"CE",children:"CE"}),e.jsx("option",{value:"CHE",children:"CHE"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"section",className:"mb-2 block font-semibold text-gray-700",children:"Section"}),e.jsxs("select",{id:"section",name:"section",value:l.section,onChange:s,className:"w-full rounded-lg border border-gray-300 px-4 py-3 focus:ring-2 focus:ring-blue-500 focus:outline-none",children:[e.jsx("option",{value:"",children:"Select section"}),e.jsx("option",{value:"A",children:"A"}),e.jsx("option",{value:"B",children:"B"}),e.jsx("option",{value:"C",children:"C"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"subsection",className:"mb-2 block font-semibold text-gray-700",children:"Subsection"}),e.jsxs("select",{id:"subsection",name:"subsection",value:l.subsection,onChange:s,className:"w-full rounded-lg border border-gray-300 px-4 py-3 focus:ring-2 focus:ring-blue-500 focus:outline-none",children:[e.jsx("option",{value:"",children:"Select subsection"}),e.jsx("option",{value:"1",children:"1"}),e.jsx("option",{value:"2",children:"2"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"year",className:"mb-2 block font-semibold text-gray-700",children:"Year"}),e.jsxs("select",{id:"year",name:"year",value:l.year,onChange:s,className:"w-full rounded-lg border border-gray-300 px-4 py-3 focus:ring-2 focus:ring-blue-500 focus:outline-none",children:[e.jsx("option",{value:"",children:"Select year"}),e.jsx("option",{value:"1",children:"1st Year"}),e.jsx("option",{value:"2",children:"2nd Year"}),e.jsx("option",{value:"3",children:"3rd Year"}),e.jsx("option",{value:"4",children:"4th Year"}),e.jsx("option",{value:"5",children:"5th Year"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"semester",className:"mb-2 block font-semibold text-gray-700",children:"Semester"}),e.jsxs("select",{id:"semester",name:"semester",value:l.semester,onChange:s,className:"w-full rounded-lg border border-gray-300 px-4 py-3 focus:ring-2 focus:ring-blue-500 focus:outline-none",children:[e.jsx("option",{value:"",children:"Select semester"}),e.jsx("option",{value:"1",children:"1st Semester"}),e.jsx("option",{value:"2",children:"2nd Semester"})]})]})]})]}),l.educationLevel==="COLLEGE"&&e.jsxs("div",{className:"rounded-xl bg-white p-6 shadow-md",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-2",children:[e.jsx(b,{className:"text-2xl text-green-600"}),e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"College Details"})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"collegeName",className:"mb-2 block font-semibold text-gray-700",children:"College"}),e.jsxs("select",{id:"collegeName",name:"collegeName",value:l.collegeName,onChange:s,className:"w-full rounded-lg border border-gray-300 px-4 py-3 focus:ring-2 focus:ring-blue-500 focus:outline-none",children:[e.jsx("option",{value:"",children:"Select college"}),e.jsx("option",{value:"Notre Dame College",children:"Notre Dame College"}),e.jsx("option",{value:"Holy Cross College",children:"Holy Cross College"}),e.jsx("option",{value:"Dhaka College",children:"Dhaka College"}),e.jsx("option",{value:"Rajuk College",children:"Rajuk College"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"collegeDepartment",className:"mb-2 block font-semibold text-gray-700",children:"Department"}),e.jsxs("select",{id:"collegeDepartment",name:"collegeDepartment",value:l.collegeDepartment,onChange:s,className:"w-full rounded-lg border border-gray-300 px-4 py-3 focus:ring-2 focus:ring-blue-500 focus:outline-none",children:[e.jsx("option",{value:"",children:"Select department"}),e.jsx("option",{value:"science",children:"Science"}),e.jsx("option",{value:"commerce",children:"Commerce"}),e.jsx("option",{value:"arts",children:"Arts"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"collegeYear",className:"mb-2 block font-semibold text-gray-700",children:"Year"}),e.jsxs("select",{id:"collegeYear",name:"collegeYear",value:l.collegeYear,onChange:s,className:"w-full rounded-lg border border-gray-300 px-4 py-3 focus:ring-2 focus:ring-blue-500 focus:outline-none",children:[e.jsx("option",{value:"",children:"Select year"}),e.jsx("option",{value:"1",children:"1st Year"}),e.jsx("option",{value:"2",children:"2nd Year"}),e.jsx("option",{value:"admission",children:"Admission"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"boardType",className:"mb-2 block font-semibold text-gray-700",children:"Board Type"}),e.jsxs("select",{id:"boardType",name:"boardType",value:l.boardType,onChange:s,className:"w-full rounded-lg border border-gray-300 px-4 py-3 focus:ring-2 focus:ring-blue-500 focus:outline-none",children:[e.jsx("option",{value:"",children:"Select board type"}),e.jsx("option",{value:"madrasah",children:"Madrasah"}),e.jsx("option",{value:"general",children:"General"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"board",className:"mb-2 block font-semibold text-gray-700",children:"Board"}),e.jsxs("select",{id:"board",name:"board",value:l.board,onChange:s,className:"w-full rounded-lg border border-gray-300 px-4 py-3 focus:ring-2 focus:ring-blue-500 focus:outline-none",children:[e.jsx("option",{value:"",children:"Select board"}),e.jsx("option",{value:"dhaka",children:"Dhaka"}),e.jsx("option",{value:"chittagong",children:"Chittagong"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"version",className:"mb-2 block font-semibold text-gray-700",children:"Version"}),e.jsxs("select",{id:"version",name:"version",value:l.version,onChange:s,className:"w-full rounded-lg border border-gray-300 px-4 py-3 focus:ring-2 focus:ring-blue-500 focus:outline-none",children:[e.jsx("option",{value:"",children:"Select version"}),e.jsx("option",{value:"bangla",children:"Bangla"}),e.jsx("option",{value:"english",children:"English"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"medium",className:"mb-2 block font-semibold text-gray-700",children:"Medium"}),e.jsxs("select",{id:"medium",name:"medium",value:l.medium,onChange:s,className:"w-full rounded-lg border border-gray-300 px-4 py-3 focus:ring-2 focus:ring-blue-500 focus:outline-none",children:[e.jsx("option",{value:"",children:"Select medium"}),e.jsx("option",{value:"bangla",children:"Bangla"}),e.jsx("option",{value:"english",children:"English"})]})]})]})]}),e.jsxs("div",{className:"rounded-xl bg-white p-6 shadow-md",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-2",children:[e.jsx(m,{className:"text-2xl text-pink-600"}),e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Group Images"})]}),e.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx("label",{className:"mb-2 block font-semibold text-gray-700",children:"Cover Image"}),e.jsxs("div",{className:"relative",children:[c?e.jsx("img",{src:c,alt:"Cover preview",className:"h-40 w-full rounded-lg object-cover"}):e.jsx("div",{className:"flex h-40 w-full items-center justify-center rounded-lg border-2 border-dashed border-gray-300 bg-gray-50",children:e.jsxs("div",{className:"text-center",children:[e.jsx(m,{className:"mx-auto mb-2 text-4xl text-gray-400"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Upload cover image"})]})}),e.jsx("input",{type:"file",accept:"image/*",onChange:r=>p(r,"cover"),className:"absolute inset-0 cursor-pointer opacity-0"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"mb-2 block font-semibold text-gray-700",children:"Profile Image"}),e.jsxs("div",{className:"relative",children:[d?e.jsx("img",{src:d,alt:"Profile preview",className:"h-40 w-full rounded-lg object-cover"}):e.jsx("div",{className:"flex h-40 w-full items-center justify-center rounded-lg border-2 border-dashed border-gray-300 bg-gray-50",children:e.jsxs("div",{className:"text-center",children:[e.jsx(m,{className:"mx-auto mb-2 text-4xl text-gray-400"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Upload profile image"})]})}),e.jsx("input",{type:"file",accept:"image/*",onChange:r=>p(r,"profile"),className:"absolute inset-0 cursor-pointer opacity-0"})]})]})]})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("button",{type:"button",onClick:()=>i(-1),className:"flex-1 rounded-lg border-2 border-gray-300 bg-white px-6 py-3 font-semibold text-gray-700 transition hover:bg-gray-50",children:"Cancel"}),e.jsx("button",{type:"submit",className:"flex-1 rounded-lg bg-blue-600 px-6 py-3 font-semibold text-white transition hover:bg-blue-700",children:"Create Group"})]})]})]})};export{T as default};
