import{b as F,u as $,r as i,j as e,cM as p,aO as N,N as f,d2 as D}from"./index-CNnNJRga.js";const L=()=>{const w=F(),y=$(),[t,j]=i.useState({firstName:"",lastName:"",email:"",password:"",confirmPassword:"",agreeToTerms:!1}),[r,d]=i.useState({}),[u,v]=i.useState(!1),[x,P]=i.useState(!1),[h,b]=i.useState(!1),g=(s,a)=>s.trim()?s.trim().length<2?`${a} must be at least 2 characters`:/^[a-zA-Z\s]+$/.test(s)?null:`${a} should only contain letters`:`${a} is required`,T=s=>s?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s)?null:"Please enter a valid email address":"Email is required",C=s=>s?s.length<8?"Password must be at least 8 characters":/(?=.*[a-z])/.test(s)?/(?=.*[A-Z])/.test(s)?/(?=.*\d)/.test(s)?null:"Password must contain at least one number":"Password must contain at least one uppercase letter":"Password must contain at least one lowercase letter":"Password is required",k=(s,a)=>s?s!==a?"Passwords do not match":null:"Please confirm your password",S=()=>{const s={},a=g(t.firstName,"First name"),l=g(t.lastName,"Last name"),c=T(t.email),m=C(t.password),n=k(t.confirmPassword,t.password);return a&&(s.firstName=a),l&&(s.lastName=l),c&&(s.email=c),m&&(s.password=m),n&&(s.confirmPassword=n),t.agreeToTerms||(s.agreeToTerms="You must agree to the terms and conditions"),d(s),Object.keys(s).length===0},o=s=>{const{name:a,value:l,type:c,checked:m}=s.target;j(n=>({...n,[a]:c==="checkbox"?m:l})),r[a]&&d(n=>({...n,[a]:void 0}))},E=async s=>{if(s.preventDefault(),!!S()){b(!0),d({});try{await new Promise(l=>setTimeout(l,2e3));const a={id:Date.now().toString(),name:`${t.firstName} ${t.lastName}`,username:t.email.split("@")[0],email:t.email,avatar:"https://ui-avatars.com/api/?name=John+Doe&background=3b82f6&color=fff&size=150",bio:"New to SocialHub!",followers:0,following:0,postsCount:0,joinedDate:new Date().toISOString().split("T")[0]};w(D({user:a,token:"demo-jwt-token"})),y("/")}catch(a){console.error("Registration error:",a),d({general:"Registration failed. Please try again."})}finally{b(!1)}}};return e.jsxs("div",{className:"flex items-center justify-center space-x-15",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"mb-2 text-4xl font-bold text-gray-900",children:"SocialHub"}),e.jsx("h2",{className:"mb-2 text-2xl font-semibold text-gray-700",children:"Create Account"}),e.jsx("p",{className:"text-gray-600",children:"Join our community today"})]}),e.jsxs("div",{className:"w-[500px] space-y-5 rounded-lg border bg-white p-5 shadow-lg",children:[e.jsxs("form",{onSubmit:E,className:"space-y-5",children:[r.general&&e.jsx("div",{className:"rounded-lg border border-red-200 bg-red-50 px-4 py-3 text-red-700",children:r.general}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"firstName",className:"mb-2 block text-sm font-medium text-gray-700",children:"First Name"}),e.jsx("input",{id:"firstName",name:"firstName",type:"text",value:t.firstName,onChange:o,className:`w-full rounded-lg border px-3 py-2 transition-colors focus:ring-2 focus:outline-none ${r.firstName?"border-red-500 focus:ring-red-500":"border-gray-300 focus:border-blue-500 focus:ring-blue-500"}`,placeholder:"First name"}),r.firstName&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:r.firstName})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"lastName",className:"mb-2 block text-sm font-medium text-gray-700",children:"Last Name"}),e.jsx("input",{id:"lastName",name:"lastName",type:"text",value:t.lastName,onChange:o,className:`w-full rounded-lg border px-3 py-2 transition-colors focus:ring-2 focus:outline-none ${r.lastName?"border-red-500 focus:ring-red-500":"border-gray-300 focus:border-blue-500 focus:ring-blue-500"}`,placeholder:"Last name"}),r.lastName&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:r.lastName})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"mb-2 block text-sm font-medium text-gray-700",children:"Email Address"}),e.jsx("input",{id:"email",name:"email",type:"email",value:t.email,onChange:o,className:`w-full rounded-lg border px-3 py-2 transition-colors focus:ring-2 focus:outline-none ${r.email?"border-red-500 focus:ring-red-500":"border-gray-300 focus:border-blue-500 focus:ring-blue-500"}`,placeholder:"Enter your email"}),r.email&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:r.email})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"mb-2 block text-sm font-medium text-gray-700",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{id:"password",name:"password",type:u?"text":"password",value:t.password,onChange:o,className:`w-full rounded-lg border px-3 py-2 pr-10 transition-colors focus:ring-2 focus:outline-none ${r.password?"border-red-500 focus:ring-red-500":"border-gray-300 focus:border-blue-500 focus:ring-blue-500"}`,placeholder:"Create a password"}),e.jsx("button",{type:"button",onClick:()=>v(!u),className:"absolute inset-y-0 right-0 flex items-center pr-3 text-gray-400 hover:text-gray-600",children:u?e.jsx(p,{}):e.jsx(N,{})})]}),r.password&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:r.password})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"confirmPassword",className:"mb-2 block text-sm font-medium text-gray-700",children:"Confirm Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:x?"text":"password",value:t.confirmPassword,onChange:o,className:`w-full rounded-lg border px-3 py-2 pr-10 transition-colors focus:ring-2 focus:outline-none ${r.confirmPassword?"border-red-500 focus:ring-red-500":"border-gray-300 focus:border-blue-500 focus:ring-blue-500"}`,placeholder:"Confirm your password"}),e.jsx("button",{type:"button",onClick:()=>P(!x),className:"absolute inset-y-0 right-0 flex items-center pr-3 text-gray-400 hover:text-gray-600",children:x?e.jsx(p,{}):e.jsx(N,{})})]}),r.confirmPassword&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:r.confirmPassword})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-start",children:[e.jsx("input",{id:"agreeToTerms",name:"agreeToTerms",type:"checkbox",checked:t.agreeToTerms,onChange:o,className:"mt-0.5 h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),e.jsxs("label",{htmlFor:"agreeToTerms",className:"ml-2 block text-sm text-gray-700",children:["I agree to the"," ",e.jsx(f,{to:"/terms",className:"text-blue-600 hover:text-blue-500",children:"Terms of Service"})," ","and"," ",e.jsx(f,{to:"/privacy",className:"text-blue-600 hover:text-blue-500",children:"Privacy Policy"})]})]}),r.agreeToTerms&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:r.agreeToTerms})]}),e.jsx("button",{type:"submit",disabled:h,className:"w-full rounded-lg bg-blue-600 px-4 py-2 font-semibold text-white hover:bg-blue-700 disabled:opacity-60",children:h?e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsx("div",{className:"mr-2 h-4 w-4 animate-spin rounded-full border-b-2 border-white"}),"Creating account..."]}):"Create Account"})]}),e.jsx("div",{className:"text-center",children:e.jsxs("p",{className:"text-sm text-gray-600",children:["Already have an account?"," ",e.jsx(f,{to:"/login",className:"font-medium text-blue-600 hover:text-blue-500",children:"Sign in here"})]})})]})]})};export{L as default};
