import{u,j as s,U as m,c as d,bs as c,av as x}from"./index-CNnNJRga.js";import{G as l}from"./GroupCard-Dwty2d4i.js";import{r as g}from"./groupResolver-CA4Cto7G.js";const h=()=>{const i=u(),a=()=>{i("/groups/creategroup")};return s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Groups"}),s.jsx("p",{className:"mt-1 text-gray-600",children:"Connect with communities that share your interests"})]}),s.jsxs("button",{onClick:a,className:"flex cursor-pointer items-center gap-2 rounded-lg border px-5 py-3 text-black transition-colors hover:bg-[#333] hover:text-white",children:[s.jsx(m,{size:16}),"Create Group"]})]})},v=()=>{const i=d(e=>e.profile.joinedGroup||[]),a=d(e=>e.groups.groups||[]),n=i.map(e=>a.find(o=>o.id===e)).filter(Boolean).map(e=>({id:e.id,name:e.name,description:e.description,coverImage:e.coverImage,memberCount:c(e.id),privacy:e.privacy}));return s.jsxs("div",{children:[s.jsxs("h2",{className:"mb-3 text-xl font-semibold text-gray-900",children:["My Groups (",n.length,")"]}),s.jsx("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-2 lg:grid-cols-3",children:n.map(e=>s.jsx(l,{group:e,showJoinButton:!1},e.id))})]})},j=()=>{const i=d(t=>t.profile.joinedGroup||[]),a=d(t=>t.profile.preJoinedGroup||[]),n=d(t=>t.profile.sentRequestGroup||[]),e=d(t=>t.groups.groups||[]),o=new Set([...i||[],...a||[],...n||[]]),r=e.filter(t=>!o.has(t.id)).map(t=>({id:t.id,name:t.name,description:t.description,coverImage:t.coverImage,memberCount:c(t.id),privacy:t.privacy}));return s.jsxs("div",{children:[s.jsxs("h2",{className:"mb-3 text-xl font-semibold text-gray-900",children:["Suggested Groups (",r.length,")"]}),s.jsx("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-2 lg:grid-cols-3",children:r.map(t=>s.jsx(l,{group:t,showJoinButton:!0},t.id))})]})},y=["g21","g22","g23"],b=()=>{const i=d(r=>r.profile.joinedGroup||[]),a=d(r=>r.profile.sentRequestGroup||[]),n=d(r=>r.groups.groups||[]),e=new Set;y.forEach(r=>e.add(r)),n.forEach(r=>{r?.type==="jobs"&&e.add(r.id)});const o=Array.from(e).map(r=>n.find(t=>t.id===r)).filter(Boolean).filter(r=>r.privacy!=="closed").filter(r=>{const t=new Set(i||[]),p=new Set(a||[]);return!t.has(r.id)&&!p.has(r.id)}).map(r=>({id:r.id,name:r.name,description:r.description,coverImage:r.coverImage,memberCount:c(r.id),privacy:r.privacy}));return s.jsxs("div",{children:[s.jsxs("h2",{className:"mb-3 text-xl font-semibold text-gray-900",children:["Career & Job Groups (",o.length,")"]}),s.jsx("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-2 lg:grid-cols-3",children:o.map(r=>s.jsx(l,{group:r,showJoinButton:!0},r.id))})]})},f=()=>{const a=d(o=>o.profile)?.preJoinedGroup||[],e=g(a).map(o=>({id:o.id,name:o.name,description:o.description,coverImage:o.coverImage,memberCount:c(o.id),privacy:o.privacy}));return s.jsxs("div",{children:[s.jsxs("h2",{className:"mb-3 text-xl font-semibold text-gray-900",children:["University Groups (",e.length,")"]}),s.jsx("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-2 lg:grid-cols-3",children:e.map(o=>s.jsx(l,{group:o,showJoinButton:!1},o.id))})]})},G=()=>{const i=d(e=>e.profile.sentRequestGroup||[]),a=d(e=>e.groups.groups||[]);if(i.length===0)return s.jsxs("div",{className:"mb-8",children:[s.jsx("h2",{className:"mb-2 text-xl font-semibold text-gray-900",children:"Sent Requests"}),s.jsx("p",{className:"text-sm text-gray-600",children:"You have no pending group requests."})]});const n=i.map(e=>a.find(o=>o.id===e)).filter(Boolean).filter(e=>e&&e.privacy!=="closed").map(e=>({id:e.id,name:e.name,description:e.description,coverImage:e.coverImage,memberCount:c(e.id),privacy:e.privacy}));return s.jsxs("div",{children:[s.jsxs("h2",{className:"mb-3 text-xl font-semibold text-gray-900",children:["Sent Requests (",n.length,")"]}),n.length===0&&s.jsx("p",{className:"mb-4 text-sm text-gray-600",children:"You have no pending group requests (closed groups are not listed)."}),s.jsx("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-2 lg:grid-cols-3",children:n.map(e=>s.jsx(l,{group:e,showJoinButton:!1,showCancelButton:!0},e.id))})]})},w=()=>{const[i,a]=x.useState("my"),n=[{key:"my",label:"My Groups"},{key:"university",label:"University Groups"},{key:"career",label:"Career & Job Groups"},{key:"suggested",label:"Suggested Groups"},{key:"requests",label:"Sent Requests"}];return s.jsxs(s.Fragment,{children:[s.jsx(h,{}),s.jsx("div",{className:"flex justify-between border-b border-gray-200",children:n.map(e=>s.jsx("button",{className:`py-1 font-medium transition-colors ${i===e.key?"border-b-2 border-blue-600 text-blue-600":"text-gray-600 hover:text-blue-600"}`,onClick:()=>a(e.key),children:e.label},e.key))}),i==="my"&&s.jsx(v,{}),i==="requests"&&s.jsx(G,{}),i==="university"&&s.jsx(f,{}),i==="career"&&s.jsx(b,{}),i==="suggested"&&s.jsx(j,{})]})};export{w as default};
